## Правила написания кода на 1С

- Избегай комментариев, которые повторяют очевидное. Комментарии допускаются только когда добавляют ценность: мотивация, нетривиальный алгоритм, ограничения, технический долг
- Порядок областей в общем модуле: `ПрограммныйИнтерфейс` (public) → `СлужебныйПрограммныйИнтерфейс` (internal, внутри подсистемы) → `СлужебныеПроцедурыИФункции` (private, внутри модуля)
- Перед написанием кода проверяй в общих модулях и модулях менеджеров экспортные методы, которые можно переиспользовать
- Не используй венгерскую нотацию: `МассивКонтрагентов` — нет, `Контрагенты` — да
- Не используй в именах переменных имена из глобального контекста 1С (Документы, Справочники, Регистры, Метаданные, Константы и др.)
- Для процедур используй глаголы: `ЗаполнитьТаблицу()`. Для функций-предикатов — вопросительную форму: `ЭтоНовый()`, `ЕстьОшибки()`
- Форматирование запросов — текст без отступа на новой строке после `=`:
```bsl
Запрос.Текст =
"ВЫБРАТЬ
|	Таблица.Поле КАК Поле
|ИЗ
|	Таблица";
```
- Для результата запроса используй промежуточную переменную: `РезультатЗапроса = Запрос.Выполнить()`, не `Запрос.Выполнить().Выгрузить()`
- Всегда давай псевдонимы полям через `КАК`: `Контрагенты.ИНН КАК ИНН`
- Перед написанием запроса проверяй реквизиты метаданных (существование, имена, типы)
- Не используй запросы внутри цикла — используй пакетные запросы и временные таблицы
- Не получай реквизиты из ссылки через точку — это загружает весь объект. Используй `ОбщегоНазначения.ЗначениеРеквизитаОбъекта()`, `ЗначенияРеквизитовОбъекта()`, `ЗначениеРеквизитаОбъектов()`, `ЗначенияРеквизитовОбъектов()`
- При повторяющихся вычислениях в цикле используй кеширование через Соответствие
- В модулях форм предпочитай `&НаСервереБезКонтекста` вместо `&НаСервере`. Минимизируй переходы клиент-сервер
- Вместо `ОписаниеОповещения` используй `Асинх`-методы где возможно
- Не используй `Сообщить()`. На сервере: `ОбщегоНазначения.СообщитьПользователю()`, на клиенте: `ОбщегоНазначенияКлиент.СообщитьПользователю()`
- Не глотай исключения молча — логируй через `ЗаписьЖурналаРегистрации`. В `Попытка/Исключение` обрабатывай только ожидаемые исключения
- Для текущей даты на сервере используй `ТекущаяДатаСеанса()`, не `ТекущаяДата()`
- Проверяй код на конкурентность и необходимость блокировок. Учитывай внешние транзакции (например, транзакция записи объекта)
- Ограничение строки — 120 символов (если можно корректно перенести).
- Не используй тернарный оператор `?()`
- После редактирования кода выполняй ревью: стиль, читаемость, корректность, граничные случаи, безопасность, конкурентность
